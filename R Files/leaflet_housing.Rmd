---
title: "leaflet"
author: "Jake Peters"
date: "7/8/2021"
output: html_document
---

```{r}
library(leaflet)
library(tidyverse)
library(htmltools)

FM_Housing_Clean <- read_csv("../Data/FM_Housing_Clean.csv.gz", col_types = cols(
  `Lease Term` = col_character(),
  `Water Frontage Length` = col_integer(),
  `Postal Code` = col_character(),
  `Address #` = col_character(),
  `Occupant Phone 2` = col_character(),
  `Finance` = col_character(),
  `Sheyenne Unpd` = col_character()
))
```

```{r}
map <- leaflet() %>% 
	addProviderTiles("OpenStreetMap") %>% 
	addCircleMarkers(
		lng = FM_Housing_Clean$`Geo Lon`, lat = FM_Housing_Clean$`Geo Lat`, clusterOptions = markerClusterOptions(radius = 1, 
  label = lapply(paste0("<img src=",FM_Housing_Clean$`Photo URL`,"><br>",FM_Housing_Clean$`Sold Price` ,"<br>",FM_Housing_Clean$`Street Address`), HTML), labelOptions=labelOptions(style=list("text-align"="center"))
             ))

map

```


